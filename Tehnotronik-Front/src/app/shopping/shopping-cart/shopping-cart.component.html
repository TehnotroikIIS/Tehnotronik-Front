<app-navbar-unregistered></app-navbar-unregistered>

<div class="container">
    <div class="right-content">
        <div class="register-title">Sadr≈æaj korpe</div>
        <div class="products">
            <mat-card class="rest-card" *ngFor="let item of productsInCart">
                <div  class="editqr" *ngIf="item.newPrice!=undefined">
                    -{{item.discount}}%
                  </div> 
                <img mat-card-image  src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9oj262QwzNs3bfHzwet9eOiEfyDNUp3XL_w&usqp=CAU"/>
                <mat-card-content class="card-content">  
                    <div class="name-div">{{item.id}}</div>
                    <div class="price"  *ngIf="item.newPrice==undefined">{{item.price}} din</div>
                        <div class="price-cross"  *ngIf="item.newPrice!=undefined">{{item.price}} din</div>
                        <div class="action"  *ngIf="item.newPrice!=undefined">{{item.newPrice}} din</div>
                    <div class="price">{{item.quantity}} kom</div>
                    <div class="center">
                        <button class="filter-button" (click)="editQuantity($event)"><mat-icon>edit</mat-icon></button>
                        <div class="space"></div>
                        <button class="filter-button" (click)="remove($event)"><mat-icon>delete</mat-icon></button>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
        <button class="primary-button" (click)="next()">Nastavite sa kupovinom</button>
    </div>
</div>

<ng-template #showProduct let-mydata class="dialog">
    <div mat-dialog-content class="dialog-content">
        <div class="title">{{selectedProduct.name}}</div>
        <form [formGroup]="showProductForm" class="dialog-form">
            <div class="row1">
                <mat-label>Komada:</mat-label>
                <mat-form-field appearance="outline">
                    <input formControlName="quantity" matInput>
                </mat-form-field>
            </div>
        </form>
    </div>
    <div mat-dialog-actions class="dialog-actions">
      <button mat-raised-button color="primary" class="yes-button"  mat-dialog-close (click)="confirm()">Potvrdi izmenu</button>
      <button mat-raised-button mat-dialog-close raised class="cancel-button"> Zatvori</button>
    </div>
</ng-template>